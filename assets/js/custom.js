/*Author: ASLVersion: 1.0Designed and Development Gabriel AGBONON*/function activeMenu() {    var url = window.location.pathname; //sets the variable "url" to the pathname of the current window    var activePage = url.substring(url.lastIndexOf('/') + 1); //sets the variable "activePage" as the substring after the last "/" in the "url" variable    $('.menu-links li a').each(function () { //looks in each link item within the primary-nav list        var linkPage = this.href.substring(this.href.lastIndexOf('/') + 1); //sets the variable "linkPage" as the substring of the url path in each &lt;a&gt;        if (activePage == linkPage) { //compares the path of the current window to the path of the linked page in the nav item            $(this).parent().addClass('active'); //if the above is true, add the "active" class to the parent of the &lt;a&gt; which is the &lt;li&gt; in the nav list        }    });    $('.drop-down-multilevel li a').each(function () { //looks in each link item within the primary-nav list        var linkPage = this.href.substring(this.href.lastIndexOf('/') + 1); //sets the variable "linkPage" as the substring of the url path in each &lt;a&gt;        if (activePage == linkPage) { //compares the path of the current window to the path of the linked page in the nav item            $(this).parent().parent().parent().addClass('active'); //if the above is true, add the "active" class to the parent of the &lt;a&gt; which is the &lt;li&gt; in the nav list        }    });}(function($) {    "use strict";    activeMenu();var carousel1 = $('.owl-carousel-1'),    prev1 = $('#owl-1-prev'),    next1 = $('#owl-1-next');    carousel1.slick({        infinite: false,        slidesToShow: 3,        slidesToScroll: 1,        autoplay: true,        prevArrow: prev1,        nextArrow: next1,        responsive: [            {                breakpoint: 769,                settings: {                    slidesToShow: 3,                    slidesToScroll: 1,                    dots: true                }            },            {                breakpoint: 480,                settings: {                    slidesToShow: 1,                    slidesToScroll: 1 ,                    dots: true                }            }        ]    });var carousel4= $('.owl-carousel-4'),    prev4 = $('#owl-4-prev'),    next4 = $('#owl-4-next');    carousel4.slick({        infinite: false,        slidesToShow: 3,        slidesToScroll: 1,        autoplay: true,        prevArrow: prev4,        nextArrow: next4,        responsive: [            {                breakpoint: 769,                settings: {                    slidesToShow: 3,                    slidesToScroll: 1,                    dots: true                }            },            {                breakpoint: 480,                settings: {                    slidesToShow: 1,                    slidesToScroll: 1 ,                    dots: true                }            }        ]    });var carousel2 = $('.owl-carousel-2'),    prev2 = $('#owl-2-prev'),    next2 = $('#owl-2-next');    carousel2.slick({        infinite: false,        slidesToShow: 1,        slidesToScroll: 1,        autoplay: true,        prevArrow: prev2,        nextArrow: next2,    });    $(".owl-carousel-3").owlCarousel({        autoPlay: true,        slideSpeed: 500,        pagination: false,        navigation: false,        items: 1    });    /*--- ACCORDIAN---*/    $('.panel-heading').click(function(e) {        $('.panel-heading').removeClass('tab-collapsed');        var collapsCrnt = $(this).find('.collapse-controle').attr('aria-expanded');        if (collapsCrnt != 'true') {            $(this).addClass('tab-collapsed');        }    });    /*--- Smooth Scroll---*/    // Select all links with hashes    $('a.anchor')    // Remove links that don't actually link to anything        .click(function(event) {            // On-page links            if (                location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')                &&                location.hostname == this.hostname            ) {                // Figure out element to scroll to                var target = $(this.hash);                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');                // Does a scroll target exist?                if (target.length) {                    // Only prevent default if animation is actually gonna happen                    event.preventDefault();                    $('html, body').animate({                        scrollTop: target.offset().top                    }, 1000, function() {                        // Callback after animation                        // Must change focus!                        var $target = $(target);                        $target.focus();                        if ($target.is(":focus")) { // Checking if the target was focused                            return false;                        } else {                            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable                            $target.focus(); // Set focus again                        };                    });                }            }        });    /*--- FOOTER REVEAL---*/    tinymce.init({        selector: '.rich-text',        height: 200,        menubar: false,        language: 'fr_FR',        statusbar: false,        plugins: [            'advlist autolink lists link image charmap print preview anchor textcolor',            'searchreplace visualblocks code fullscreen',            'insertdatetime media table contextmenu paste code help'        ],        toolbar: 'insert | undo redo |  styleselect | bold italic backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat'    });   /* --- SEACRH FIXED---*/	    $(window).scroll(function() {        var scrollTop = $(window).scrollTop();        if (scrollTop > 300) {            $(".search").addClass("navbar-fixed-top");        } else if (scrollTop < 300) {            $(".search").removeClass("navbar-fixed-top");        }    });       /*--- MENU---*/		$('.mega-menu').megaMenu({                // DESKTOP MODE SETTINGS                logo_align          : 'left',    /* align the logo left or right. options (left) or (right)*/                links_align         : 'left',    /* align the links left or right. options (left) or (right)*/                socialBar_align     : 'left',    /*align the socialBar left or right. options (left) or (right)*/                searchBar_align     : 'right',   /*align the search bar left or right. options (left) or (right)*/                trigger             : 'hover',   /*show drop down using click or hover. options (hover) or (click)*/                effect              : 'fade',    /*drop down effects. options (fade), (scale), (expand-top), (expand-bottom), (expand-left), (expand-right)*/                effect_speed        : 400,       /*drop down show speed in milliseconds*/                sibling             : true,      /*hide the others showing drop downs if this option true. this option works on if the trigger option is "click". options (true) or (false)*/                outside_click_close : true,       /*hide the showing drop downs when user click outside the menu. this option works if the trigger option is "click". options (true) or (false)*/                top_fixed           : false,     /*fixed the menu top of the screen. options (true) or (false)*/                sticky_header       : false,     /*menu fixed on top when scroll down down. options (true) or (false)*/                sticky_header_height: 200,      /* sticky header height top of the screen. activate sticky header when meet the height. option change the height in px value.*/                menu_position       : 'horizontal',    /* change the menu position. options (horizontal), (vertical-left) or (vertical-right)*/                full_width          : false,            /*make menu full width. options (true) or (false)*/                /* MOBILE MODE SETTINGS*/                mobile_settings     : {                    collapse            : true,  /*collapse the menu on click. options (true) or (false)*/                    sibling             : true,  /*hide the others showing drop downs when click on current drop down. options (true) or (false)*/                    scrollBar           : true,  /*enable the scroll bar. options (true) or (false)*/                    scrollBar_height    : 400,   /*scroll bar height in px value. this option works if the scrollBar option true.*/                    top_fixed           : false, /*fixed menu top of the screen. options (true) or (false)*/                    sticky_header       : false, /*menu fixed on top when scroll down down. options (true) or (false)*/                    sticky_header_height: 200    /*sticky header height top of the screen. activate sticky header when meet the height. option change the height in px value.*/                }            });    $(".province").select2({        placeholder: "*Province",        allowClear: true,        maximumSelectionLength: 3    });    $(".ville").select2({        placeholder: "*Ville",        allowClear: true,        maximumSelectionLength: 3    });    $(".pays").select2({        placeholder: "*Pays",        allowClear: true,        maximumSelectionLength: 3    });    $(".thematique-principale").select2({        placeholder: "Thématique principale",        allowClear: true,        maximumSelectionLength: 3    });    $(".thematique-secondaire").select2({        placeholder: "Thématique secondaire",        allowClear: true,        maximumSelectionLength: 3    });    /*--- SCROLL TO TOP---*/	     $(document).ready(function() {        $(window).scroll(function() {            if ($(this).scrollTop() > 100) {                $('.scrollup').fadeIn();            } else {                $('.scrollup').fadeOut();            }        });        $('.scrollup').click(function() {            $("html, body").animate({                scrollTop: 0            }, 600);            return false;        });     });    /*--- FILE UPLOADER---*/    $('.image-preview-clear').click(function() {        $('.image-preview-filename').val("*Récipicé ou déclaration (PDF ou image)");        $('.image-preview-clear').hide();        $('.image-preview-input input:file').val("");        $(".image-preview-input-title").text("Choisir");    });    $(".image-preview-input input:file").change(function() {        var img = $('<img/>', {            id: 'dynamic',            width: 250,            height: 200        });        var file = this.files[0];        var reader = new FileReader();        /*Set preview image into the popover data-content*/        reader.onload = function(e) {            $(".image-preview-input-title").text("Changer");            $(".image-preview-clear").show();            $(".image-preview-filename").val(file.name);            img.attr('src', e.target.result);        }        reader.readAsDataURL(file);    });    })(jQuery);